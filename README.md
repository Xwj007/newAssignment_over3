## 家具生产管理系统服务端开发文档
---
### 一、系统登录管理
#### 1. 系统登陆
* **接口名称：** `/login`
* **接口描述：** `系统用户登录`
* **请求协议：** `HTTP post + json`
* **传入参数**

参数名称 | 类型 | 是否必填 | 备注
---|---|---|---
`account` | `String` | 是 | 登录用户名
`password` | `String` | 是 | 登录用户密码

**请求示例**
```json
{
    "account" : "登录用户名",
    "password" : "登录密码"
}
```

* **返回参数**

参数名称 | 类型 | 是否必填 | 备注
---|---|---|---
`code` | `int` | 是 | 等于0：正确；小于0：错误
`msg` | `String` | 是 | 返回结果说明
`data` | `object` | 是 | 请求的返回结果
`token` | `String` | 是 | 登录鉴权token


**返回码说明**

返回码(code) | 说明(msg)
---|---
`0`|`登录成功`
`-1`|`登录失败，账号或密码存在错误，请重新输入`

**返回示例**
```json
{
    "code" : 0,
    "msg" : "登录成功" ,
    "data" : {
        "token": "登录鉴权token"
    }
}
```
#### 2. 创建公司（目前需要完成）
* **接口名称：** `/createCompany`
* **接口描述：** `创建公司数据库`
* **请求协议：** `HTTP post + json`
* **传入参数**

参数名称 | 类型 | 是否必填 | 备注
---|---|---|---
`company_name` | `String` | 是 | 公司名称，兼数据库名
`password` | `String` | 是 | 公司登录密码，兼数据库密码

**请求示例**
```json
{
    "company_name" : "公司名称",
    "password" : "密码"
}
```

* **返回参数**

参数名称 | 类型 | 是否必填 | 备注
---|---|---|---
`code` | `int` | 是 | 等于11：正确；等于-11：错误
`msg` | `String` | 是 | 返回结果说明
`data` | `object` | 是 | 请求的返回结果

**返回码说明**

返回码(code) | 说明(msg)
---|---
`11`|`公司注册成功`
`-11`|`创建失败`

**返回示例**
```json
{
    "code" : 11,
    "msg" : "公司注册成功" ,
    "data" : {

    }
}
```

#### 3. 管理公司（暂时不实现）
* **接口名称：** `/manageCompany/`
* **接口描述：** `管理注册公司`
* **请求协议：** `HTTP post + json`
* **功能说明：** `冻结公司 + 公司信息查询 + ······`
* **传入参数**
* **返回参数**


### 二、公司登录管理
#### 1. 公司用户登陆
* **接口名称：** `/login`
* **接口描述：** `公司用户登录`
* **请求协议：** `HTTP post + json`
* **传入参数**

参数名称 | 类型 | 是否必填 | 备注
---|---|---|---
`account` | `String` | 是 | 登录用户名
`password` | `String` | 是 | 登录用户密码

**请求示例**
```json
{
    "account" : "登录用户名",
    "password" : "登录密码"
}
```

* **返回参数**

参数名称 | 类型 | 是否必填 | 备注
---|---|---|---
`code` | `int` | 是 | 等于0：正确；小于0：错误
`msg` | `String` | 是 | 返回结果说明
`data` | `object` | 是 | 请求的返回结果
`token` | `String` | 是 | 登录鉴权token，包括隶属公司数据库

**返回码说明**

返回码(code) | 说明(msg)
---|---
`0`|`登录成功`
`-1`|`登录失败，账号或密码存在错误，请重新输入`

**返回示例**
```json
{
    "code" : 0,
    "msg" : "登录成功" ,
    "data" : {
        "token": "登录鉴权token，包括隶属公司数据库"
    }
}
```


#### 2.1 公司人员管理--人员添加
* **接口名称：** `/insert`
* **接口描述：** `公司人员添加`
* **请求协议：** `HTTP post + json`
* **传入参数**

参数名称 | 类型 | 是否必填 | 备注
---|---|---|---
`account` | `String` | 是 | 用户名
`password` | `String` | 是 | 用户密码
`staff_id` | `String` | 是 | 用户ID
`phone` | `String` | 是 | 手机号
`address` | `String` | 是 | 家庭地址
`email` | `String` | 是 | 邮箱
`work` | `String` | 是 | 工作职位
`power` | `String` | 是 | 工作权限
`······` | `······` | ······ | ······

**请求示例**
```json
{
    "account" : "用户名",
    "password" : "用户密码",
    "staff_id" : "用户ID",
    "phone" : "手机号",
    "address" : "家庭地址",
    "email" : "邮箱",
    "work" : "工作职位",
    "power" : "工作权限",
    "······" : "······"
}
```

* **返回参数**

参数名称 | 类型 | 是否必填 | 备注
---|---|---|---
`code` | `int` | 是 | 等于1：正确；等于-100：错误
`msg` | `String` | 是 | 返回结果说明
`data` | `object` | 是 | 请求的返回结果

**返回码说明**

返回码(code) | 说明(msg)
---|---
`1`|`添加成功`
`-100`|`添加失败，账号已存在`

**返回示例**
```json
{
    "code" : 1,
    "msg" : "添加成功" ,
    "data" : {
        "staff_id" : "用户ID",
        "account" : "用户名"
    }
}
```
#### 2.2 公司人员管理--人员删除
* **接口名称：** `/delete`
* **接口描述：** `公司人员删除`
* **请求协议：** `HTTP post + json`
* **传入参数**

参数名称 | 类型 | 是否必填 | 备注
---|---|---|---
`staff_id` | `String` | 是 | 用户ID
`account` | `String` | 是 | 用户名


**请求示例**
```json
{
    "staff_id" : "用户ID"
    "account" : "登录用户名",
}
```

* **返回参数**

参数名称 | 类型 | 是否必填 | 备注
---|---|---|---
`code` | `int` | 是 | 等于2：正确；等于-200和-201：错误
`msg` | `String` | 是 | 返回结果说明
`data` | `object` | 是 | 请求的返回结果

**返回码说明**

返回码(code) | 说明(msg)
---|---
`2`|`删除成功`
`-200`|`删除失败，账号不存在`
`-201`|`删除失败，ID不正确`

**返回示例**
```json
{
    "code" : 2,
    "msg" : "删除成功" ,
    "data" : {
        null
    }
}
```

#### 2.3 公司人员管理--人员信息获取
* **接口名称：** `/getOne`
* **接口描述：** `公司人员信息获取`
* **请求协议：** `HTTP post + json`
* **传入参数**

参数名称 | 类型 | 是否必填 | 备注
---|---|---|---
`account` | `String` | 是 | 登录用户名


**请求示例**
```json
{
    "account" : "登录用户名"
    "password" : "用户密码",
    "staff_id" : "用户ID",
    "phone" : "手机号",
    "address" : "家庭地址",
    "email" : "邮箱",
    "work" : "工作职位",
    "power" : "工作权限",
    "······" : "······"
}
```

* **返回参数**

参数名称 | 类型 | 是否必填 | 备注
---|---|---|---
`code` | `int` | 是 | 等于3：正确；等于-300：错误
`msg` | `String` | 是 | 返回结果说明
`data` | `object` | 是 | 请求的返回结果

**返回码说明**

返回码(code) | 说明(msg)
---|---
`3`|`加载个人信息成功`
`-300`|`加载个人信息失败，用户不存在`

**返回示例**
```json
{
    "code" : 3,
    "msg" : "加载个人信息成功" ,
    "data" : {
        "staff_id" : "用户ID",
        "account" : "用户名"
    }
}
```


#### 2.4 公司人员管理--人员密码修改
* **接口名称：** `/update_pwd`
* **接口描述：** `公司人员密码修改`
* **请求协议：** `HTTP post + json`
* **传入参数**

参数名称 | 类型 | 是否必填 | 备注
---|---|---|---
`account` | `String` | 是 | 登录用户名(隐藏不让修改)
`old_password` | `String` | 是 | 登录旧密码
`new_password` | `String` | 是 | 新密码

**请求示例**
```json
{
    "account" : "登录用户名",
    "old_password" : "登录旧密码",
    "new_password" : "新密码"
}
```

* **返回参数**

参数名称 | 类型 | 是否必填 | 备注
---|---|---|---
`code` | `int` | 是 | 等于4：正确；等于-400和-401：错误
`msg` | `String` | 是 | 返回结果说明
`data` | `object` | 是 | 请求的返回结果

**返回码说明**

返回码(code) | 说明(msg)
---|---
`4`|`更新密码成功`
`-400`|`更新密码失败，用户不存在`
`-401`|`更新密码失败，原密码错误`

**返回示例**
```json
{
    "code" : 4,
    "msg" : "更新密码成功" ,
    "data" : {
        "staff_id" : "用户ID",
        "account" : "用户名"
    }
}
```

#### 2.5 公司人员管理--人员信息修改
* **接口名称：** `/update_info`
* **接口描述：** `公司人员信息修改`
* **请求协议：** `HTTP post + json`
* **传入参数**

参数名称 | 类型 | 是否必填 | 备注
---|---|---|---
`account` | `String` | 是 | 登录用户名(隐藏不让修改)
`phone` | `String` | 是 | 手机号(不修改,默认不变)
`address` | `String` | 是 | 家庭地址(不修改,默认不变)
`email` | `String` | 是 | 邮箱(不修改,默认不变)
`······` | `······` | ······ | ······

**请求示例**
```json
{
    "account" : "登录用户名",
    "phone" : "手机号",
    "address" : "家庭地址",
    "email" : "邮箱",
    "······" : "······"
}
```

* **返回参数**

参数名称 | 类型 | 是否必填 | 备注
---|---|---|---
`code` | `int` | 是 | 等于5：正确；等于-500：错误
`msg` | `String` | 是 | 返回结果说明
`data` | `object` | 是 | 请求的返回结果

**返回码说明**

返回码(code) | 说明(msg)
---|---
`5`|`更新人员信息成功`
`-500`|`更新人员信息失败，用户不存在`

**返回示例**
```json
{
    "code" : 5,
    "msg" : "更新人员信息成功" ,
    "data" : {
        "staff_id" : "用户ID",
        "account" : "用户名"
    }
}
```


#### 3. 公司仓库管理（暂时不实现）
* **接口名称：** `/manageWarehouse/`
* **接口描述：** `公司用户登录`
* **请求协议：** `HTTP post + json`
* **功能说明：** `采购订单生成 + 销售订生成 + 物料添加/删除/修改 +······`
* **传入参数**
* **返回参数**


#### 4. 公司财务管理（暂时不实现）
* **接口名称：** `/manageFinance/`
* **接口描述：** `公司用户登录`
* **请求协议：** `HTTP post + json`
* **功能说明：** `采购单价格 + 销售单价格 + 项目预算 +······`
* **传入参数**
* **返回参数**


## 开发人员
---
### HTML前端开发
* **人员** `once`
* **分工**

### java服务端开发
* **人员** `lvxz`
* **分工**

### 数据库开发
* **人员** `once + lvxz`
* **分工**



